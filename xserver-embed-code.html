<!-- 
🤖 とね屋チャットボット埋め込みコード
このコードを既存のHTMLファイルの </body> 直前に貼り付けてください
-->

<!-- 基本バージョン -->
<script>
  (function() {
    const script = document.createElement('script');
    script.src = 'https://your-project.vercel.app/toneya-chatbot.js';
    script.onload = function() {
      ToneyaChatbot.init({
        apiUrl: 'https://your-project.vercel.app'
      });
    };
    script.onerror = function() {
      console.error('チャットボットの読み込みに失敗しました。VercelのURLを確認してください。');
    };
    document.head.appendChild(script);
  })();
</script>

<!-- 
カスタマイズバージョン
位置、色、会社名、電話番号などを変更できます
-->
<script>
  (function() {
    const script = document.createElement('script');
    script.src = 'https://your-project.vercel.app/toneya-chatbot.js';
    script.onload = function() {
      ToneyaChatbot.init({
        apiUrl: 'https://your-project.vercel.app',
        position: 'bottom-right',          // 位置: bottom-right, bottom-left
        primaryColor: '#2b4c7d',          // メインカラー
        companyName: 'とね屋のお葬式',      // 会社名
        phoneNumber: '0120-000-000',      // 電話番号
        welcomeMessage: 'こんにちは。とね屋のお葬式です。\n\n料金やプランについて、具体的にお答えいたします。\nお気軽にご質問ください。'
      });
    };
    script.onerror = function() {
      console.error('チャットボットの読み込みに失敗しました。VercelのURLを確認してください。');
    };
    document.head.appendChild(script);
  })();
</script>

<!-- 
⚠️ 重要な設定手順：
1. 「your-project.vercel.app」を実際のVercelのURLに置き換えてください
   例：https://funeral-chatbot-abc123.vercel.app

2. Vercelの環境変数 CORS_ORIGIN にXSERVERのドメインを設定してください
   例：https://your-domain.com

3. 設定後、以下のURLで動作確認してください：
   - ヘルスチェック: https://your-project.vercel.app/api/health
   - チャットボットJS: https://your-project.vercel.app/toneya-chatbot.js
-->

<!-- 
🎨 カスタマイズオプション：

position: 'bottom-right' | 'bottom-left'
  チャットボタンの表示位置

primaryColor: '#2b4c7d'
  チャットボットのメインカラー（16進数）

companyName: 'とね屋のお葬式'
  チャットウィンドウのヘッダーに表示される会社名

phoneNumber: '0120-000-000'
  エラーメッセージに表示される電話番号

welcomeMessage: 'こんにちは...'
  チャットボット起動時の最初のメッセージ

maxRetries: 2
  API呼び出し失敗時の最大リトライ回数

retryDelay: 1000
  リトライ間隔（ミリ秒）

isDebugMode: false
  デバッグモード（開発時のみ true に設定）
-->

<!-- 
📱 モバイル対応：
チャットボットはレスポンシブデザインで、
スマートフォンやタブレットでも適切に表示されます。

🔒 セキュリティ：
- CORS設定により、許可されたドメインからのみアクセス可能
- レート制限により、過度なリクエストを防止
- APIキーはサーバーサイドで安全に管理

🚀 パフォーマンス：
- 軽量なJavaScriptで高速読み込み
- キャッシュ機能で再表示時の速度向上
- エラー処理とリトライ機能で安定動作
-->